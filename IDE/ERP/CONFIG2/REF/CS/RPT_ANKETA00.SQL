EXECUTE BLOCK (
   Q_CS_ID            TYPE OF COLUMN TABL$R_CS.ID = ?CS_ID
)RETURNS (
   CS_ID              TYPE OF COLUMN TABL$R_CS.ID
  ,CS_NAME            TYPE OF COLUMN TABL$R_CS.NAME
  ,CS_NAME2           TYPE OF COLUMN TABL$R_CS.NAME2
  ,CS_BIRTHDAY        TYPE OF COLUMN TABL$R_CS.BIRTHDAY
  ,CS_INN             TYPE OF COLUMN TABL$R_CS.INN
  ,COUNTRY_ID         TYPE OF COLUMN TABL$R_CS_ADDR.COUNTRY_ID
  ,COUNTRY_NAME       TYPE OF COLUMN TABL$R_COUNTRIES.NAME
  ,REGION_ID          TYPE OF COLUMN TABL$R_CS_ADDR.REGION_ID
  ,REGION_NAME        TYPE OF COLUMN TABL$R_REGIONS.NAME
  ,ADDRESS_ID         TYPE OF COLUMN TABL$R_CS_ADDR.ID
  ,ADDRESS_ZIP        TYPE OF COLUMN TABL$R_CS_ADDR.ZIP
  ,ADDRESS_NAME       TYPE OF COLUMN TABL$R_CS_ADDR.NAME
  ,ADDRESS_PHONES     DOMN$BLOB_TEXT
  ,DOCS_ID            TYPE OF COLUMN TABL$R_CS_DOCS.ID
  ,DOCS_NAME          TYPE OF COLUMN TABL$R_CS_DOCS.NAME
  ,DOCS_SERIAL        TYPE OF COLUMN TABL$R_CS_DOCS.DOC_SERIAL
  ,DOCS_NUMBER        TYPE OF COLUMN TABL$R_CS_DOCS.DOC_NUMBER
  ,DOCS_DATE          TYPE OF COLUMN TABL$R_CS_DOCS.DOC_DATE
  ,DOCS_DATEEND       TYPE OF COLUMN TABL$R_CS_DOCS.DOC_DATEEND
  ,DOCS_COMENT        TYPE OF COLUMN TABL$R_CS_DOCS.COMENT
  ,DOCS_TYPE_ID       TYPE OF COLUMN TABL$R_CS_DOCS.DOCTYPE_ID
  ,DOCS_TYPE_NAME     TYPE OF COLUMN TABL$R_WRK_DOCTYPES.NAME
)AS
BEGIN
  CS_ID = :Q_CS_ID;

  SELECT FIRST 1 CS.NAME, CS.NAME2, CS.INN, CS.BIRTHDAY
  FROM   TABL$R_CS CS
  WHERE  (CS.ID = :CS_ID)
  INTO   :CS_NAME,:CS_NAME2, :CS_INN, :CS_BIRTHDAY;

  SELECT FIRST 1 CA.ID
  FROM   TABL$R_CS_ADDR CA
  WHERE  (CA.CS_ID = :CS_ID)
    AND  (CA.FLAG_JURIDICAL = 1)
  INTO   :ADDRESS_ID;

  SELECT FIRST 1 CSA.ZIP, CSA.NAME, CNTR.ID, CNTR.NAME, REGN.ID, REGN.NAME
  FROM   TABL$R_CS_ADDR CSA, TABL$R_COUNTRIES CNTR, TABL$R_REGIONS REGN
  WHERE  (CSA.ID = :ADDRESS_ID)
    AND  (CNTR.ID = CSA.COUNTRY_ID)
    AND  (REGN.ID = CSA.REGION_ID)
  INTO   :ADDRESS_ZIP, :ADDRESS_NAME, :COUNTRY_ID, :COUNTRY_NAME, :REGION_ID, :REGION_NAME;

  SELECT LIST(P.NAME, '; ')
  FROM   TABL$R_CS_PHONES P
  WHERE  (P.CS_ID = :CS_ID)
  INTO   :ADDRESS_PHONES;

  SELECT FIRST 1 CD.ID, CD.NAME, CD.DOC_SERIAL, CD.DOC_NUMBER, CD.DOC_DATE, CD.DOC_DATEEND
        ,CD.COMENT, CD.DOCTYPE_ID, DT.NAME
  FROM   TABL$R_CS_DOCS CD, TABL$R_WRK_DOCTYPES DT
  WHERE  (CD.CS_ID = :CS_ID)
    AND  (DT.ID = CD.DOCTYPE_ID)
  INTO   :DOCS_ID, :DOCS_NAME, :DOCS_SERIAL, :DOCS_NUMBER, :DOCS_DATE, :DOCS_DATEEND
        ,:DOCS_COMENT, :DOCS_TYPE_ID, :DOCS_TYPE_NAME;

  SUSPEND;
END
