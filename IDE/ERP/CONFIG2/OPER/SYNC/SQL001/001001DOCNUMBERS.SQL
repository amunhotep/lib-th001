        EXECUTE BLOCK RETURNS (CNT DOMN$INTEGER)
AS
  DECLARE VARIABLE P_DATABASEPATH TYPE OF COLUMN TABL$R_FILIALS.DATABASE_NAME;
  DECLARE VARIABLE P_USERNAME     TYPE OF COLUMN TABL$_USERS.ID;
  DECLARE VARIABLE P_USERPWD      TYPE OF COLUMN TABL$_USERS.PWD;

  DECLARE VARIABLE P_GEN_NAME         TYPE OF COLUMN TABL$J_4.NAME;
  DECLARE VARIABLE P_GEN_VALUE        TYPE OF COLUMN TABL$J_4.ID;
  DECLARE VARIABLE P_SQL_STMT         TYPE OF COLUMN TABL$J_4.DOCSTR;
BEGIN
  P_DATABASEPATH = '127.0.0.1/3050:d:\appl\peaktop\data\PS.FDB';
  P_USERNAME = 'SYSDBA';
  P_USERPWD  = 'masterkey';
  CNT = 0;
  FOR
    SELECT TRIM(G.RDB$GENERATOR_NAME)
    FROM   RDB$GENERATORS G
    WHERE  (G.RDB$GENERATOR_NAME LIKE 'GENR$J_NUMBER_%')
    INTO   :P_GEN_NAME
  DO
    BEGIN
    P_GEN_VALUE = 0;
    P_SQL_STMT = 'SELECT FIRST 1 GEN_ID('||:P_GEN_NAME||', 0) FROM RDB$DATABASE ';
    EXECUTE STATEMENT :P_SQL_STMT
      ON EXTERNAL DATA SOURCE :P_DATABASEPATH AS USER :P_USERNAME PASSWORD :P_USERPWD
      WITH AUTONOMOUS TRANSACTION
      INTO :P_GEN_VALUE;

    P_GEN_VALUE = :P_GEN_VALUE + 100;
    EXECUTE STATEMENT 'ALTER SEQUENCE '||:P_GEN_NAME||' RESTART WITH '||:P_GEN_VALUE||';';
    CNT = :CNT + 1;
    END
  SUSPEND;
END
