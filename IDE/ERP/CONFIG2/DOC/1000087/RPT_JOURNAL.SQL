EXECUTE BLOCK RETURNS (
  ID                   TYPE OF COLUMN TABL$J_4.ID,
  J_ID                 TYPE OF COLUMN TABL$J_4.ID,
  NAME                 TYPE OF COLUMN TABL$J_4.NAME,
  FLAG_DELETE          TYPE OF COLUMN TABL$J_4.FLAG_DELETE,
  FLAG_COMMIT          TYPE OF COLUMN TABL$J_4.FLAG_COMMIT,
  TYPE_ID              TYPE OF COLUMN TABL$J_4.TYPE_ID,
  TYPE_NAME            TYPE OF COLUMN TABL$_TB_DOCS.NAME,
  COLOR_FRG            TYPE OF COLUMN TABL$_TB_DOCS.COLOR_FRG,
  COLOR_BGR            TYPE OF COLUMN TABL$_TB_DOCS.COLOR_BGR,
  DOCNUMBER            TYPE OF COLUMN TABL$J_4.DOCNUMBER,
  DOCSUM               TYPE OF COLUMN TABL$J_4.DOCSUM,
  DOCSUMVAL            TYPE OF COLUMN TABL$J_4.DOCSUMVAL,
  VALUTE_ID            TYPE OF COLUMN TABL$J_4.VALUTE_ID,
  VALUTE_NAME          TYPE OF COLUMN TABL$R_COUNTRIES.VALUTE,
  VALUTE_SHORT         TYPE OF COLUMN TABL$R_COUNTRIES.VALUTE_SHORT,
  FIRM_ID              TYPE OF COLUMN TABL$J_4.FIRM_ID,
  FIRM_NAME            TYPE OF COLUMN TABL$R_FIRMS.NAME,
  FILIAL_ID            TYPE OF COLUMN TABL$J_4.FILIAL_ID,
  FILIAL_NAME          TYPE OF COLUMN TABL$R_FILIALS.NAME,
  FILIAL_PREFIX        TYPE OF COLUMN TABL$R_FILIALS.PREFIX,
  FILIAL_GUID          TYPE OF COLUMN TABL$R_FILIALS.GUID,
  FILIAL_DATABASE_NAME TYPE OF COLUMN TABL$R_FILIALS.DATABASE_NAME,
  FILIAL_ADDRESS       TYPE OF COLUMN TABL$R_FILIALS.ADDRESS,
  FILIAL_PHONE         TYPE OF COLUMN TABL$R_FILIALS.PHONE,
  FILIAL_GRAPHIK       TYPE OF COLUMN TABL$R_FILIALS.GRAPHIK,
  USER_ID              TYPE OF COLUMN TABL$J_4.USER_ID,
  USER_NAME            TYPE OF COLUMN TABL$_USERS.NAME,
  WRK_DOVER            TYPE OF COLUMN TABL$R_WRK.DOVER,
  DATE_COMMIT          TYPE OF COLUMN TABL$J_4.DATE_COMMIT,
  DOCNUMBERSTR         TYPE OF COLUMN TABL$J_4.DOCNUMBERSTR,
  DOCSTR               TYPE OF COLUMN TABL$J_4.DOCSTR,
  WRK_ID               TYPE OF COLUMN TABL$J_1000087.WRK_ID,
  WRK_NAME             TYPE OF COLUMN TABL$R_WRK.NAME,
  WRK_FIRSTNAME        TYPE OF COLUMN TABL$R_WRK.FIRSTNAME,
  WRK_MIDDLENAME       TYPE OF COLUMN TABL$R_WRK.MIDDLENAME,
  WRK_LASTNAME         TYPE OF COLUMN TABL$R_WRK.LASTNAME,
  WRK_BIRTHDATE        TYPE OF COLUMN TABL$R_WRK.BIRTHDATE,
  WRK_BIRTHCOUNTRY     TYPE OF COLUMN TABL$R_WRK.BIRTHCOUNTRY,
  WRK_BIRTHCOUNTRYN    TYPE OF COLUMN TABL$R_COUNTRIES.NAME,
  WRK_BIRTHPLACE       TYPE OF COLUMN TABL$R_WRK.BIRTHPLACE,
  WRK_DPA_NUMBER       TYPE OF COLUMN TABL$R_WRK.DPA_NUMBER,
  WRK_DPA_DATE         TYPE OF COLUMN TABL$R_WRK.DPA_DATE,
  WRK_DPA_ORG          TYPE OF COLUMN TABL$R_WRK.DPA_ORG,
  WRK_PHONE            TYPE OF COLUMN TABL$R_WRK.NAME,
  WRK_ADDR_NAME        TYPE OF COLUMN TABL$J_4.DOCSTR,
  DOCP_DOCTYPE_ID      TYPE OF COLUMN TABL$R_DOC.DOCTYPE_ID,
  DOCP_DOCTYPE_NAME    TYPE OF COLUMN TABL$R_WRK_DOCTYPES.NAME,
  DOCP_NAME            TYPE OF COLUMN TABL$R_DOC.NAME,
  DOCP_DOC_SERIAL      TYPE OF COLUMN TABL$R_DOC.DOC_SERIAL,
  DOCP_DOC_NUMBER      TYPE OF COLUMN TABL$R_DOC.DOC_NUMBER,
  DOCP_DOC_DATE        TYPE OF COLUMN TABL$R_DOC.DOC_DATE,
  DOCP_DOC_DATEEND     TYPE OF COLUMN TABL$R_DOC.DOC_DATEEND,
  DOCP_COUNTRY_ID      TYPE OF COLUMN TABL$R_DOC.COUNTRY_ID,
  DOCP_COUNTRY_NAME    TYPE OF COLUMN TABL$R_COUNTRIES.NAME,
  DOCD_DOCTYPE_ID      TYPE OF COLUMN TABL$R_DOC.DOCTYPE_ID,
  DOCD_DOCTYPE_NAME    TYPE OF COLUMN TABL$R_WRK_DOCTYPES.NAME,
  DOCD_NAME            TYPE OF COLUMN TABL$R_DOC.NAME,
  DOCD_DOC_SERIAL      TYPE OF COLUMN TABL$R_DOC.DOC_SERIAL,
  DOCD_DOC_NUMBER      TYPE OF COLUMN TABL$R_DOC.DOC_NUMBER,
  DOCD_DOC_DATE        TYPE OF COLUMN TABL$R_DOC.DOC_DATE,
  DOCD_DOC_DATEEND     TYPE OF COLUMN TABL$R_DOC.DOC_DATEEND,
  DOCD_COUNTRY_ID      TYPE OF COLUMN TABL$R_DOC.COUNTRY_ID,
  DOCD_COUNTRY_NAME    TYPE OF COLUMN TABL$R_COUNTRIES.NAME,
  DOCW_DOCTYPE_ID      TYPE OF COLUMN TABL$R_DOC.DOCTYPE_ID,
  DOCW_DOCTYPE_NAME    TYPE OF COLUMN TABL$R_WRK_DOCTYPES.NAME,
  DOCW_NAME            TYPE OF COLUMN TABL$R_DOC.NAME,
  DOCW_DOC_SERIAL      TYPE OF COLUMN TABL$R_DOC.DOC_SERIAL,
  DOCW_DOC_NUMBER      TYPE OF COLUMN TABL$R_DOC.DOC_NUMBER,
  DOCW_DOC_DATE        TYPE OF COLUMN TABL$R_DOC.DOC_DATE,
  DOCW_DOC_DATEEND     TYPE OF COLUMN TABL$R_DOC.DOC_DATEEND,
  DOCW_COUNTRY_ID      TYPE OF COLUMN TABL$R_DOC.COUNTRY_ID,
  DOCW_COUNTRY_NAME    TYPE OF COLUMN TABL$R_COUNTRIES.NAME,
  TMC_ID               TYPE OF COLUMN TABL$J_1000087.TMC_ID,
  TMC_NAME             TYPE OF COLUMN VIEW$R_TMC_AUTO.NAME,
  TMC_NUMSHOW          TYPE OF COLUMN VIEW$R_TMC_AUTO.NUMSHOW,
  TMC_MODELNAME        TYPE OF COLUMN VIEW$R_TMC_AUTO.MODELNAME,
  TMC_YEAR_ID          TYPE OF COLUMN VIEW$R_TMC_AUTO.YEAR_ID,
  TMC_AUTOTYPE         TYPE OF COLUMN VIEW$R_TMC_AUTO.AUTOTYPE,
  TMC_AUTONUMBER       TYPE OF COLUMN VIEW$R_TMC_AUTO.AUTONUMBER,
  TMC_AUTOPASSPORT     TYPE OF COLUMN VIEW$R_TMC_AUTO.AUTOPASSPORT,
  TMC_AUTOWHEELS       TYPE OF COLUMN VIEW$R_TMC_AUTO.AUTOWHEELS,
  TMC_AUTOENGINE       TYPE OF COLUMN VIEW$R_TMC_AUTO.AUTOENGINE,
  TMC_AUTOCOLOR        TYPE OF COLUMN VIEW$R_TMC_AUTO.AUTOCOLOR,
  TMDL_DOCTYPE_ID      TYPE OF COLUMN TABL$R_DOC.DOCTYPE_ID,
  TMDL_DOCTYPE_NAME    TYPE OF COLUMN TABL$R_WRK_DOCTYPES.NAME,
  TMDL_NAME            TYPE OF COLUMN TABL$R_DOC.NAME,
  TMDL_DOC_SERIAL      TYPE OF COLUMN TABL$R_DOC.DOC_SERIAL,
  TMDL_DOC_NUMBER      TYPE OF COLUMN TABL$R_DOC.DOC_NUMBER,
  TMDL_DOC_DATE        TYPE OF COLUMN TABL$R_DOC.DOC_DATE,
  TMDL_DOC_DATEEND     TYPE OF COLUMN TABL$R_DOC.DOC_DATEEND,
  TMDL_COUNTRY_ID      TYPE OF COLUMN TABL$R_DOC.COUNTRY_ID,
  TMDL_COUNTRY_NAME    TYPE OF COLUMN TABL$R_COUNTRIES.NAME,
  TMDS_DOCTYPE_ID      TYPE OF COLUMN TABL$R_DOC.DOCTYPE_ID,
  TMDS_DOCTYPE_NAME    TYPE OF COLUMN TABL$R_WRK_DOCTYPES.NAME,
  TMDS_NAME            TYPE OF COLUMN TABL$R_DOC.NAME,
  TMDS_DOC_SERIAL      TYPE OF COLUMN TABL$R_DOC.DOC_SERIAL,
  TMDS_DOC_NUMBER      TYPE OF COLUMN TABL$R_DOC.DOC_NUMBER,
  TMDS_DOC_DATE        TYPE OF COLUMN TABL$R_DOC.DOC_DATE,
  TMDS_DOC_DATEEND     TYPE OF COLUMN TABL$R_DOC.DOC_DATEEND,
  TMDS_COUNTRY_ID      TYPE OF COLUMN TABL$R_DOC.COUNTRY_ID,
  TMDS_COUNTRY_NAME    TYPE OF COLUMN TABL$R_COUNTRIES.NAME,
  DATE_VALUE           TYPE OF COLUMN TABL$J_1000087.DATE_VALUE,
  DATE_END             TYPE OF COLUMN TABL$J_1000087.DATE_END,
  COMENT               TYPE OF COLUMN TABL$J_1000087.COMENT
)AS
  DECLARE VARIABLE P_COUNTRY_NAME   TYPE OF COLUMN TABL$R_COUNTRIES.NAME;
  DECLARE VARIABLE P_REGION_NAME    TYPE OF COLUMN TABL$R_REGIONS.NAME;
  DECLARE VARIABLE P_TOWN_NAME      TYPE OF COLUMN TABL$R_REGIONS.NAME;
  DECLARE VARIABLE P_ADDRESS_ID     TYPE OF COLUMN VIEW$R_WRK_ADDR.ID;
  DECLARE VARIABLE P_ADDRESS_ZIP    TYPE OF COLUMN VIEW$R_WRK_ADDR.ZIP;
  DECLARE VARIABLE P_ADDRESS_NAME   TYPE OF COLUMN VIEW$R_WRK_ADDR.NAME;
BEGIN
  ID   = 1000210; --[?J_ID];
  J_ID = :ID;
  SELECT FIRST 1 J.NAME, J.FLAG_DELETE, J.FLAG_COMMIT, J.TYPE_ID, TD.NAME, TD.COLOR_FRG, TD.COLOR_BGR,
         J.DOCNUMBER, J.DOCSUM, J.DOCSUMVAL, J.VALUTE_ID, CONTR.VALUTE, CONTR.VALUTE_SHORT, J.FIRM_ID, FIRM.NAME, J.FILIAL_ID,
         (SELECT FIRST 1 COALESCE(FF.NAME,'') FROM TABL$R_FILIALS FF WHERE (FF.ID = J.FILIAL_ID)) AS FILIAL_NAME,
         J.USER_ID, (SELECT FIRST 1 COALESCE(W.NAME,'') FROM TABL$R_WRK W WHERE (W.USER_NAME = J.USER_ID)) AS USER_NAME,
         (SELECT FIRST 1 COALESCE(W.DOVER,'') FROM TABL$R_WRK W WHERE (W.USER_NAME = J.USER_ID)) AS WRK_DOVER,
         J.DATE_COMMIT, J.DOCNUMBERSTR,J.DOCSTR,
         J87.WRK_ID, J87.TMC_ID, J87.DATE_VALUE, J87.DATE_END, J87.COMENT
  FROM   TABL$J_4 J, TABL$J_1000087 J87, TABL$R_FIRMS FIRM, TABL$R_COUNTRIES CONTR, TABL$_TB_DOCS TD
  WHERE  (J.ID      = :ID)
    AND  (J87.J_ID  = J.ID)
    AND  (TD.ID     = J.TYPE_ID)
    AND  (FIRM.ID   = J.FIRM_ID)
    AND  (CONTR.ID  = J.VALUTE_ID)
  INTO   :NAME, :FLAG_DELETE, :FLAG_COMMIT, :TYPE_ID, :TYPE_NAME, :COLOR_FRG, :COLOR_BGR,
         :DOCNUMBER, :DOCSUM, :DOCSUMVAL, :VALUTE_ID, :VALUTE_NAME, :VALUTE_SHORT, :FIRM_ID, :FIRM_NAME, :FILIAL_ID, :FILIAL_NAME,
         :USER_ID, :USER_NAME, :WRK_DOVER, :DATE_COMMIT, :DOCNUMBERSTR,:DOCSTR,
         :WRK_ID, :TMC_ID, :DATE_VALUE, :DATE_END, :COMENT;

  SELECT FIRST 1 WRK.NAME, WRK.FIRSTNAME, WRK.MIDDLENAME, WRK.LASTNAME
        ,WRK.BIRTHDATE, WRK.BIRTHCOUNTRY, WRK.BIRTHPLACE
        ,WRK.DPA_NUMBER, WRK.DPA_DATE, WRK.DPA_ORG
  FROM   TABL$R_WRK WRK
  WHERE  (WRK.ID = :WRK_ID)
  INTO   :WRK_NAME, :WRK_FIRSTNAME, :WRK_MIDDLENAME, :WRK_LASTNAME
        ,:WRK_BIRTHDATE, :WRK_BIRTHCOUNTRY, :WRK_BIRTHPLACE
        ,:WRK_DPA_NUMBER, :WRK_DPA_DATE, :WRK_DPA_ORG;
  SELECT FIRST 1 COALESCE(C.NAME, '')
  FROM   TABL$R_COUNTRIES C
  WHERE  (C.ID = :WRK_BIRTHCOUNTRY)
  INTO   :WRK_BIRTHCOUNTRYN;

  SELECT FIRST 1 COALESCE(P.CYPHERS, '')
  FROM   VIEW$R_WRK_PHONES P
  WHERE  (P.WRK_ID = :WRK_ID)
  INTO   :WRK_PHONE;

  SELECT FIRST 1 CSA.ID
  FROM   VIEW$R_WRK_ADDR CSA
  WHERE  (CSA.WRK_ID = :WRK_ID)
    AND  (CSA.FLAG_JURIDICAL = 1)
  INTO   :P_ADDRESS_ID;

  SELECT FIRST 1 CSA.ZIP, CSA.NAME||', д.-'||COALESCE(CSA.HOUSE,' ')||COALESCE(', кв.-'||CSA.CAB,'')
        ,(SELECT FIRST 1 COALESCE(CNTR.NAME,'') FROM TABL$R_COUNTRIES CNTR WHERE (CNTR.ID = CSA.COUNTRY_ID) )
        ,(SELECT FIRST 1 COALESCE(REGN.NAME,'') FROM TABL$R_REGIONS   REGN WHERE (REGN.ID = CSA.REGION_ID) )
        ,(SELECT FIRST 1 COALESCE(TWN.NAME,'' ) FROM TABL$R_REGIONS   TWN  WHERE (TWN.ID  = CSA.TOWN_ID) )
  FROM   VIEW$R_WRK_ADDR CSA
  WHERE  (CSA.ID = :P_ADDRESS_ID)
  INTO   :P_ADDRESS_ZIP, :P_ADDRESS_NAME, :P_COUNTRY_NAME, :P_REGION_NAME, :P_TOWN_NAME;

  WRK_ADDR_NAME = :P_ADDRESS_ZIP||', '||:P_COUNTRY_NAME||', '||:P_REGION_NAME||', '||:P_TOWN_NAME||', '||:P_ADDRESS_NAME;

  SELECT FIRST 1 D.NAME, D.DOC_SERIAL, D.DOC_NUMBER, D.DOC_DATE, D.DOC_DATEEND, D.DOCTYPE_ID, D.COUNTRY_ID
        ,(SELECT FIRST 1 DT.NAME FROM TABL$R_WRK_DOCTYPES DT WHERE (DT.ID = D.DOCTYPE_ID)) AS DOCTYPE_NAME
        ,(SELECT FIRST 1 C.NAME  FROM TABL$R_COUNTRIES    C  WHERE (C.ID  = D.COUNTRY_ID)) AS COUNTRY_NAME
  FROM   TABL$R_DOC D
  WHERE  (TRIM(UPPER(D.OBJ_ID)) = 'TABL$R_WRK')
    AND  (D.REC_ID     = :WRK_ID)
    AND  (D.DOCTYPE_ID = 1000000)
    AND  (D.DOC_DATE  <= :DATE_COMMIT)
    AND  ( (D.DOC_DATEEND >= :DATE_COMMIT) OR (D.DOC_DATEEND IS NULL) )
  INTO   :DOCP_NAME, :DOCP_DOC_SERIAL, :DOCP_DOC_NUMBER, :DOCP_DOC_DATE, :DOCP_DOC_DATEEND, :DOCP_DOCTYPE_ID, :DOCP_COUNTRY_ID
        ,:DOCP_DOCTYPE_NAME, :DOCP_COUNTRY_NAME;

  SELECT FIRST 1 D.NAME, D.DOC_SERIAL, D.DOC_NUMBER, D.DOC_DATE, D.DOC_DATEEND, D.DOCTYPE_ID, D.COUNTRY_ID
        ,(SELECT FIRST 1 DT.NAME FROM TABL$R_WRK_DOCTYPES DT WHERE (DT.ID = D.DOCTYPE_ID)) AS DOCTYPE_NAME
        ,(SELECT FIRST 1 C.NAME  FROM TABL$R_COUNTRIES    C  WHERE (C.ID  = D.COUNTRY_ID)) AS COUNTRY_NAME
  FROM   TABL$R_DOC D
  WHERE  (TRIM(UPPER(D.OBJ_ID)) = 'TABL$R_WRK')
    AND  (D.REC_ID     = :WRK_ID)
    AND  (D.DOCTYPE_ID = 1000006)
    AND  (D.DOC_DATE  <= :DATE_COMMIT)
    AND  ( (D.DOC_DATEEND >= :DATE_COMMIT) OR (D.DOC_DATEEND IS NULL) )
  INTO   :DOCD_NAME, :DOCD_DOC_SERIAL, :DOCD_DOC_NUMBER, :DOCD_DOC_DATE, :DOCD_DOC_DATEEND, :DOCD_DOCTYPE_ID, :DOCD_COUNTRY_ID
        ,:DOCD_DOCTYPE_NAME, :DOCD_COUNTRY_NAME;

  SELECT FIRST 1 D.NAME, D.DOC_SERIAL, D.DOC_NUMBER, D.DOC_DATE, D.DOC_DATEEND, D.DOCTYPE_ID, D.COUNTRY_ID
        ,(SELECT FIRST 1 DT.NAME FROM TABL$R_WRK_DOCTYPES DT WHERE (DT.ID = D.DOCTYPE_ID)) AS DOCTYPE_NAME
        ,(SELECT FIRST 1 C.NAME  FROM TABL$R_COUNTRIES    C  WHERE (C.ID  = D.COUNTRY_ID)) AS COUNTRY_NAME
  FROM   TABL$R_DOC D
  WHERE  (TRIM(UPPER(D.OBJ_ID)) = 'TABL$R_WRK')
    AND  (D.REC_ID     = :WRK_ID)
    AND  (D.DOCTYPE_ID = 1000004)
    AND  (D.DOC_DATE  <= :DATE_COMMIT)
    AND  ( (D.DOC_DATEEND >= :DATE_COMMIT) OR (D.DOC_DATEEND IS NULL) )
  INTO   :DOCW_NAME, :DOCW_DOC_SERIAL, :DOCW_DOC_NUMBER, :DOCW_DOC_DATE, :DOCW_DOC_DATEEND, :DOCW_DOCTYPE_ID, :DOCW_COUNTRY_ID
        ,:DOCW_DOCTYPE_NAME, :DOCW_COUNTRY_NAME;

  SELECT FIRST 1 TMC.NAME, TMC.NUMSHOW, TMC.MODELNAME, TMC.YEAR_ID, TMC.AUTOTYPE
        ,TMC.AUTONUMBER, TMC.AUTOPASSPORT, TMC.AUTOWHEELS, TMC.AUTOENGINE, TMC.AUTOCOLOR
  FROM   VIEW$R_TMC_AUTO TMC
  WHERE  (TMC.ID = :TMC_ID)
  INTO   :TMC_NAME, :TMC_NUMSHOW, :TMC_MODELNAME, :TMC_YEAR_ID, :TMC_AUTOTYPE
        ,:TMC_AUTONUMBER, :TMC_AUTOPASSPORT, :TMC_AUTOWHEELS, :TMC_AUTOENGINE, :TMC_AUTOCOLOR;

  SELECT FIRST 1 D.NAME, D.DOC_SERIAL, D.DOC_NUMBER, D.DOC_DATE, D.DOC_DATEEND, D.DOCTYPE_ID, D.COUNTRY_ID
        ,(SELECT FIRST 1 DT.NAME FROM TABL$R_WRK_DOCTYPES DT WHERE (DT.ID = D.DOCTYPE_ID)) AS DOCTYPE_NAME
        ,(SELECT FIRST 1 C.NAME  FROM TABL$R_COUNTRIES    C  WHERE (C.ID  = D.COUNTRY_ID)) AS COUNTRY_NAME
  FROM   TABL$R_DOC D
  WHERE  (TRIM(UPPER(D.OBJ_ID)) = 'TABL$R_TMC')
    AND  (D.REC_ID     = :TMC_ID)
    AND  (D.DOCTYPE_ID = 1000039)
    AND  (D.DOC_DATE  <= :DATE_COMMIT)
    AND  ( (D.DOC_DATEEND >= :DATE_COMMIT) OR (D.DOC_DATEEND IS NULL) )
  INTO   :TMDL_NAME, :TMDL_DOC_SERIAL, :TMDL_DOC_NUMBER, :TMDL_DOC_DATE, :TMDL_DOC_DATEEND, :TMDL_DOCTYPE_ID, :TMDL_COUNTRY_ID
        ,:TMDL_DOCTYPE_NAME, :TMDL_COUNTRY_NAME;

  SELECT FIRST 1 D.NAME, D.DOC_SERIAL, D.DOC_NUMBER, D.DOC_DATE, D.DOC_DATEEND, D.DOCTYPE_ID, D.COUNTRY_ID
        ,(SELECT FIRST 1 DT.NAME FROM TABL$R_WRK_DOCTYPES DT WHERE (DT.ID = D.DOCTYPE_ID)) AS DOCTYPE_NAME
        ,(SELECT FIRST 1 C.NAME  FROM TABL$R_COUNTRIES    C  WHERE (C.ID  = D.COUNTRY_ID)) AS COUNTRY_NAME
  FROM   TABL$R_DOC D
  WHERE  (TRIM(UPPER(D.OBJ_ID)) = 'TABL$R_TMC')
    AND  (D.REC_ID     = :TMC_ID)
    AND  (D.DOCTYPE_ID = 1000040)
    AND  (D.DOC_DATE  <= :DATE_COMMIT)
    AND  ( (D.DOC_DATEEND >= :DATE_COMMIT) OR (D.DOC_DATEEND IS NULL) )
  INTO   :TMDS_NAME, :TMDS_DOC_SERIAL, :TMDS_DOC_NUMBER, :TMDS_DOC_DATE, :TMDS_DOC_DATEEND, :TMDS_DOCTYPE_ID, :TMDS_COUNTRY_ID
        ,:TMDS_DOCTYPE_NAME, :TMDS_COUNTRY_NAME;

  SELECT FIRST 1 FL.PREFIX, FL.GUID, FL.DATABASE_NAME, FL.ADDRESS, FL.PHONE, FL.GRAPHIK
  FROM   TABL$R_FILIALS FL
  WHERE  (FL.ID = :FILIAL_ID)
  INTO   :FILIAL_PREFIX, :FILIAL_GUID, :FILIAL_DATABASE_NAME, :FILIAL_ADDRESS, :FILIAL_PHONE, :FILIAL_GRAPHIK;

  IF((:USER_NAME IS NULL)OR(TRIM(:USER_NAME)=''))THEN USER_NAME = :USER_ID;

  SUSPEND;
END
