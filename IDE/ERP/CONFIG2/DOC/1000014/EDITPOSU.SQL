EXECUTE BLOCK (
   Q_ID                   TYPE OF COLUMN TABL$R_TMC.ID                = ?ID
  ,Q_PRICE                TYPE OF COLUMN TABL$R_TMC_P.PRICE           = ?PRICE
  ,Q_D_J_ID               TYPE OF COLUMN TABL$D_1000014.J_ID          = ?D_J_ID
  ,Q_D_ID                 TYPE OF COLUMN TABL$D_1000014.ID            = ?D_ID
  ,Q_D_NAME               TYPE OF COLUMN TABL$D_1000014.NAME          = ?D_NAME
  ,Q_D_FLAG_DELETE        TYPE OF COLUMN TABL$D_1000014.FLAG_DELETE   = ?D_FLAG_DELETE
  ,Q_D_PRICE              TYPE OF COLUMN TABL$D_1000014.PRICE         = ?D_PRICE
  ,Q_D_QUANTORDER         TYPE OF COLUMN TABL$D_1000014.QUANT         = ?D_QUANTORDER
  ,Q_D_QUANT              TYPE OF COLUMN TABL$D_1000014.QUANT         = ?D_QUANT
  ,Q_D_TOTALWOAMOUNT      TYPE OF COLUMN TABL$D_1000014.TOTALWOAMOUNT = ?D_TOTALWOAMOUNT
  ,Q_D_TOTALAMOUNT        TYPE OF COLUMN TABL$D_1000014.TOTALAMOUNT   = ?D_TOTALAMOUNT
  ,Q_D_TOTAL              TYPE OF COLUMN TABL$D_1000014.TOTAL         = ?D_TOTAL
)AS
BEGIN
  IF(:Q_D_ID = 0)THEN
    BEGIN
    IF(:Q_D_QUANT <> 0)THEN
      INSERT INTO TABL$D_1000014(J_ID, NAME, FLAG_DELETE, TMC_ID, PRICE_TMC, PRICE, QUANT, TOTALAMOUNT)
        VALUES(:Q_D_J_ID, :Q_D_NAME, :Q_D_FLAG_DELETE, :Q_ID,  :Q_PRICE, :Q_D_PRICE, :Q_D_QUANT, :Q_D_TOTALAMOUNT);
    END
   ELSE
    BEGIN
    IF(:Q_D_QUANT = 0)THEN
      BEGIN
      DELETE FROM TABL$D_1000014 D WHERE (D.ID = :Q_D_ID);
      END
     ELSE
      BEGIN
      UPDATE TABL$D_1000014 D SET
        D.PRICE_TMC   = :Q_PRICE
       ,D.PRICE       = :Q_D_PRICE
       ,D.QUANT       = :Q_D_QUANT
       ,D.TOTALAMOUNT = :Q_D_TOTALAMOUNT
       ,D.NAME        = :Q_D_NAME
      WHERE (D.ID = :Q_D_ID);
      END
    END
END
