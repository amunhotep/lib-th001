EXECUTE BLOCK(
  Q_J_ID TYPE OF COLUMN TABL$J_4.ID = ?J_ID
)AS
  DECLARE VARIABLE P_TMCOPER_ID TYPE OF COLUMN TABL$R_TMCOPER.ID;
  DECLARE VARIABLE P_D_ID       TYPE OF COLUMN TABL$D_1000156OPER.ID;
BEGIN
  FOR
    SELECT DISTINCT O.ID
    FROM   TABL$R_TMCOPER O
    WHERE  (O.OBJ_ID = 'VIEW$R_TMC_AUTO')
    INTO   :P_TMCOPER_ID
  DO
    BEGIN
    UPDATE OR INSERT INTO TABL$D_1000156OPER(J_ID, TMCOPER_ID)
      VALUES(:Q_J_ID, :P_TMCOPER_ID)
      MATCHING(J_ID, TMCOPER_ID)
      RETURNING ID INTO :P_D_ID;
    END
END
