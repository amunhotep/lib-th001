EXECUTE BLOCK (
   Q_OBJ_ID           TYPE OF COLUMN TABL$_TB.ID           = ?OBJ_ID
  ,Q_OBJ_TYPE         TYPE OF COLUMN TABL$_TB.BASE_TYPE_ID = ?OBJ_TYPE
)RETURNS (
   OBJ_ID            TYPE OF COLUMN TABL$_TB.ID
  ,OBJ_TYPE          TYPE OF COLUMN TABL$_TB.BASE_TYPE_ID
  ,TYPE_ID           TYPE OF COLUMN TABL$_TB.TYPE_ID
  ,TYPE_NAME         TYPE OF COLUMN TABL$_TB_TYPES.NAME
  ,TYPE_PATH         DOMN$PSTRING_8192
  ,BASE_TYPE_ID      TYPE OF COLUMN TABL$_TB.BASE_TYPE_ID
  ,ID                TYPE OF COLUMN TABL$_TB.ID
  ,NAME              TYPE OF COLUMN TABL$_TB.NAME
  ,NAME2             TYPE OF COLUMN TABL$_TB.NAME2
  ,FLAG_DELETE       TYPE OF COLUMN TABL$_TB.FLAG_DELETE
  ,TREE              TYPE OF COLUMN TABL$_TB.TREE
  ,GENR              TYPE OF COLUMN TABL$_TB.GENR
  ,GENR_FLD          TYPE OF COLUMN TABL$_TB.GENR_FLD
  ,BUFFER_VAR        TYPE OF COLUMN TABL$_TB.BUFFER_VAR
  ,DLG_HEIGHT        TYPE OF COLUMN TABL$_TB.DLG_HEIGHT
  ,DLG_WIDTH         TYPE OF COLUMN TABL$_TB.DLG_WIDTH
  ,SC_ITEM           TYPE OF COLUMN TABL$_TB.SC_ITEM
  ,SC_REF            TYPE OF COLUMN TABL$_TB.SC_REF
  ,SC_ITEM_DLG       TYPE OF COLUMN TABL$_TB.SC_ITEM_DLG
  ,SC_REF_DLG        TYPE OF COLUMN TABL$_TB.SC_REF_DLG
  ,HELPFILE          TYPE OF COLUMN TABL$_TB.HELPFILE
  ,FLAG_FORM         TYPE OF COLUMN TABL$_TB.FLAG_FORM
  ,FLAG_MASTER       TYPE OF COLUMN TABL$_TB.FLAG_MASTER
  ,ROOT_PARENT_ID    TYPE OF COLUMN TABL$_TB.ROOT_PARENT_ID
  ,STATE_FIELDNAME   TYPE OF COLUMN TABL$_TB.STATE_FIELDNAME
  ,FLAG_SHOW_ITEM_ID TYPE OF COLUMN TABL$_TB.FLAG_SHOW_ITEM_ID
  ,FLAG_SHOWGROUPBAR TYPE OF COLUMN TABL$_TB.FLAG_SHOWGROUPBAR
  ,FLAG_EDITINGRID   TYPE OF COLUMN TABL$_TB.FLAG_EDITINGRID
  ,FLAG_LOG_INS      TYPE OF COLUMN TABL$_TB.FLAG_LOG_INS
  ,FLAG_LOG_UPD      TYPE OF COLUMN TABL$_TB.FLAG_LOG_UPD
  ,FLAG_LOG_DEL      TYPE OF COLUMN TABL$_TB.FLAG_LOG_DEL
)AS
BEGIN
  OBJ_ID   = :Q_OBJ_ID;
  OBJ_TYPE = :Q_OBJ_TYPE;
  SELECT T.TYPE_ID, TT.NAME, T.BASE_TYPE_ID, T.ID, T.NAME, T.NAME2, T.FLAG_DELETE, T.TREE
        ,T.GENR, T.GENR_FLD, T.BUFFER_VAR, T.DLG_HEIGHT, T.DLG_WIDTH, T.SC_ITEM
        ,T.SC_REF, T.SC_ITEM_DLG, T.SC_REF_DLG, T.HELPFILE, T.FLAG_FORM, T.FLAG_MASTER
        ,T.ROOT_PARENT_ID, T.STATE_FIELDNAME, T.FLAG_SHOW_ITEM_ID, T.FLAG_SHOWGROUPBAR
        ,T.FLAG_EDITINGRID, T.FLAG_LOG_INS, T.FLAG_LOG_UPD, T.FLAG_LOG_DEL
  FROM   TABL$_TB T, TABL$_TB_TYPES TT
  WHERE  (T.ID = :Q_OBJ_ID)
    AND  (TT.ID = T.TYPE_ID)
  INTO   :TYPE_ID, :TYPE_NAME, :BASE_TYPE_ID, :ID, :NAME, :NAME2, :FLAG_DELETE, :TREE, :GENR
        ,:GENR_FLD, :BUFFER_VAR, :DLG_HEIGHT, :DLG_WIDTH, :SC_ITEM
        ,:SC_REF, :SC_ITEM_DLG, :SC_REF_DLG, :HELPFILE, :FLAG_FORM, :FLAG_MASTER
        ,:ROOT_PARENT_ID, :STATE_FIELDNAME, :FLAG_SHOW_ITEM_ID, :FLAG_SHOWGROUPBAR
        ,:FLAG_EDITINGRID, :FLAG_LOG_INS, :FLAG_LOG_UPD, :FLAG_LOG_DEL;
  WITH RECURSIVE TTT AS(
    SELECT FIRST 1 T1.ID, T1.PARENT_ID, '"'||T1.NAME||'"' AS NAME FROM TABL$_TB_TYPES T1 WHERE (T1.ID = :TYPE_ID)
    UNION ALL
    SELECT FIRST 1 T2.ID, T2.PARENT_ID, '"'||T2.NAME||'" / '||T3.NAME AS NAME FROM TABL$_TB_TYPES T2, TTT T3 WHERE (T2.ID = T3.PARENT_ID)
  )SELECT FIRST 1 R.NAME FROM TTT R WHERE (R.ID = :BASE_TYPE_ID) INTO :TYPE_PATH;

  SUSPEND;
END
