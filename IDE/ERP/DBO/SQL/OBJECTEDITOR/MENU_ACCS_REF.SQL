EXECUTE BLOCK (
   Q_OBJ_ID    TYPE OF COLUMN TABL$_MENU.ID        = ?OBJ_ID
  ,Q_ROLE_ID   TYPE OF COLUMN TABL$_USERS_ROLES.ID = ?ROLE_ID
)RETURNS (
   OBJ_ID      TYPE OF COLUMN TABL$_MENU.ID
  ,IMGIDX      TYPE OF COLUMN TABL$_TB.DLG_HEIGHT
  ,ROLE_ID     TYPE OF COLUMN TABL$_USERS_ROLES.ID
  ,ROLE_NAME   TYPE OF COLUMN TABL$_USERS_ROLES.NAME
  ,ACCSS       TYPE OF COLUMN TABL$_MENU.ACCSS
  ,FLAG        TYPE OF COLUMN TABL$_MENU.FLAG_DELETE
)
AS
BEGIN
  OBJ_ID   = :Q_OBJ_ID;
  IMGIDX   = 0;
  SELECT FIRST 1 M.ACCSS FROM TABL$_MENU M WHERE(M.ID = :OBJ_ID) INTO :ACCSS;
  FOR
    SELECT R.ID, R.NAME
    FROM   TABL$_USERS_ROLES R
    WHERE  (R.ID = :Q_ROLE_ID)
    INTO   :ROLE_ID, :ROLE_NAME
  DO
    BEGIN
    IF(:ACCSS CONTAINING '~'||:ROLE_ID||'~')THEN FLAG = 1; ELSE FLAG = 0;
    SUSPEND;
    END
END
