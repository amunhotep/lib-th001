EXECUTE BLOCK(
  Q_RPT_ID   TYPE OF COLUMN TABL$_TB_DOCSRPT.ID = ?ID
)RETURNS(
  ID         TYPE OF COLUMN TABL$_TB_DOCSRPT.ID
 ,RPT_ID     TYPE OF COLUMN TABL$_TB_DOCSRPT.ID
 ,ACCSS      TYPE OF COLUMN TABL$_TB_DOCSRPT.ACCSS
 ,IMG_IDX    TYPE OF COLUMN TABL$_USERS_ROLES.ID
 ,ROLE_ID    TYPE OF COLUMN TABL$_USERS_ROLES.ID
 ,ROLE_NAME  TYPE OF COLUMN TABL$_USERS_ROLES.NAME
 ,FLAG       TYPE OF COLUMN TABL$_TB_DOCSRPT.FLAG_DELETE
)AS
BEGIN
  IMG_IDX = 0;
  ID      = :Q_RPT_ID;
  SELECT FIRST 1 T.ID, T.ACCSS FROM TABL$_TB_DOCSRPT T WHERE(T.ID = :ID) INTO :RPT_ID, :ACCSS;
  FOR SELECT R.ID, R.NAME FROM TABL$_USERS_ROLES R ORDER BY R.ID INTO :ROLE_ID, :ROLE_NAME DO
    BEGIN
    FLAG = 0;
    IF(:ACCSS CONTAINING '~'||:ROLE_ID||'~')THEN FLAG = 1;
    SUSPEND;
    END
END
